var writeUsLink=document.querySelector(".write-us-link"),popupWriteUs=document.querySelector(".write-us"),close=popupWriteUs.querySelector(".modal-close"),formWriteUs=popupWriteUs.querySelector("form"),userName=popupWriteUs.querySelector("[name=name]"),email=popupWriteUs.querySelector("[name=email]"),message=popupWriteUs.querySelector("[name=message]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("userName")}catch(e){isStorageSupport=!1}function validate(e){return 0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)}writeUsLink.addEventListener("click",function(e){e.preventDefault(),popupWriteUs.classList.add("modal-show"),storage?(userName.value=storage,email.value=localStorage.getItem("email")):setTimeout(function(){userName.focus()},500)}),close.addEventListener("click",function(e){e.preventDefault(),popupWriteUs.classList.remove("modal-show"),popupWriteUs.classList.remove("modal-error")}),formWriteUs.addEventListener("submit",function(e){userName.value&&!validate(email.value)&&message.value?isStorageSupport&&(localStorage.setItem("userName",userName.value),localStorage.setItem("email",email.value)):(e.preventDefault(),popupWriteUs.classList.remove("modal-error"),popupWriteUs.offsetWidth=popupWriteUs.offsetWidth,popupWriteUs.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupWriteUs.classList.contains("modal-show")&&(popupWriteUs.classList.remove("modal-show"),popupWriteUs.classList.remove("modal-error")))});var mapLink=document.querySelector(".map"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show"))});for(var switchSlide=function(e,t,o){for(var s=0;s<t.length;s++)t[s].classList.contains("active")&&(t[s].classList.remove("active"),e[s].classList.remove("active"));t[o].classList.add("active"),e[o].classList.add("active")},sliderControls=document.querySelectorAll(".slider-button"),promoProducts=document.querySelectorAll(".promo-product"),sliderControlClickHandler=function(t){sliderControls[t].addEventListener("click",function(e){e.preventDefault(),switchSlide(promoProducts,sliderControls,t)})},i=0;i<sliderControls.length;i++)sliderControlClickHandler(i);var servicesControls=document.querySelectorAll(".services-button"),servicesList=document.querySelectorAll(".services-item"),servicesControlClickHandler=function(t){servicesControls[t].addEventListener("click",function(e){e.preventDefault(),switchSlide(servicesList,servicesControls,t)})};for(i=0;i<sliderControls.length;i++)servicesControlClickHandler(i);
